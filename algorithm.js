
const routes=[
        {
            "legs": [
                {
                    "steps": [
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Thrippunithura Bus Stand",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.942708,
                                                "longitude": 76.346586
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-15T23:46:37Z",
                                    "departureStop": {
                                        "name": "Chittethukara",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.995584,
                                                "longitude": 76.351568
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-15T23:22:59Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "5:16 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "4:52 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Thrippunithura Bus Stand",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Infopark Second Gate - Thrippunithura Bus Stand",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 20
                            }
                        },
                        {},
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Manorama Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.965581,
                                                "longitude": 76.294618
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T00:26:24Z",
                                    "departureStop": {
                                        "name": "Thrippunithura Bus Stand",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.943239,
                                                "longitude": 76.346491
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:00:00Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "5:56 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "5:30 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Puthukkalavattom Bus Stand",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Puthukkalavattom Bus Stand - Thrippunithura Bus Stand",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 19
                            }
                        },
                        {},
                        {},
                        {}
                    ]
                }
            ],
            "distanceMeters": 15117,
            "duration": "3844s"
        },
        {
            "legs": [
                {
                    "steps": [
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Kizhakke Kotta",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.945011,
                                                "longitude": 76.349158
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-15T23:45:07Z",
                                    "departureStop": {
                                        "name": "Chittethukara",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.995584,
                                                "longitude": 76.351568
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-15T23:22:59Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "5:15 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "4:52 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Thrippunithura Bus Stand",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Infopark Second Gate - Thrippunithura Bus Stand",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 18
                            }
                        },
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Manorama Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.965581,
                                                "longitude": 76.294618
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T00:51:04Z",
                                    "departureStop": {
                                        "name": "Kizhakke Kotta",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.945011,
                                                "longitude": 76.349158
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:23:20Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:21 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "5:53 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Kakkanad Bus Terminal",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Chottanikkara Grama Panchayath - Kakkanad Bus Terminal",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 19
                            }
                        },
                        {},
                        {},
                        {}
                    ]
                }
            ],
            "distanceMeters": 15940,
            "duration": "5324s"
        },
        {
            "legs": [
                {
                    "steps": [
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Karingachira Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.951817,
                                                "longitude": 76.358575
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-15T23:40:30Z",
                                    "departureStop": {
                                        "name": "Chittethukara",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.995584,
                                                "longitude": 76.351568
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-15T23:22:59Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "5:10 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "4:52 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Thrippunithura Bus Stand",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Infopark Second Gate - Thrippunithura Bus Stand",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 13
                            }
                        },
                        {},
                        {},
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Manorama Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.965581,
                                                "longitude": 76.294618
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T00:50:13Z",
                                    "departureStop": {
                                        "name": "Karingachira Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.951641,
                                                "longitude": 76.358297
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:18:58Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:20 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "5:48 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Puthukkalavattom Bus Stand",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Chottanikkara Grama Panchayath - Puthukkalavattom Bus Stand",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 20
                            }
                        },
                        {},
                        {},
                        {}
                    ]
                }
            ],
            "distanceMeters": 16156,
            "duration": "5273s"
        },
        {
            "legs": [
                {
                    "steps": [
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Manorama Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.965581,
                                                "longitude": 76.294618
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T01:01:12Z",
                                    "departureStop": {
                                        "name": "Chittethukara",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.995584,
                                                "longitude": 76.351568
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:11:13Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:31 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "5:41 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Pallikkara",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Kakkanad Bus Terminal - Pallikkara",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 38
                            }
                        },
                        {},
                        {},
                        {}
                    ]
                }
            ],
            "distanceMeters": 15098,
            "duration": "3038s"
        },
        {
            "legs": [
                {
                    "steps": [
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Kaloor Bus Stand",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.994095999999999,
                                                "longitude": 76.291699999999992
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T00:36:22Z",
                                    "departureStop": {
                                        "name": "Chittethukara Rajagiri",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.995751,
                                                "longitude": 76.351443
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:00:00Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:06 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "5:30 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Willingdon Island",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Chittethukara Rajagiri - Willingdon Island",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 29
                            }
                        },
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Manorama Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.9659290000000009,
                                                "longitude": 76.295166999999992
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T00:55:11Z",
                                    "departureStop": {
                                        "name": "Kaloor Bus Stand",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.994095999999999,
                                                "longitude": 76.291699999999992
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:40:00Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:25 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "6:10 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Udayamperoor Kavala",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Udayamperoor Kavala - Kaloor Private Bus Stand",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 11
                            }
                        },
                        {}
                    ]
                }
            ],
            "distanceMeters": 15521,
            "duration": "3364s"
        },
        {
            "legs": [
                {
                    "steps": [
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Kizhakke Kotta",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.945011,
                                                "longitude": 76.349158
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T00:41:46Z",
                                    "departureStop": {
                                        "name": "Chittethukara",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.995584,
                                                "longitude": 76.351568
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:19:37Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:11 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "5:49 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Thoppumpady",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Infopark Main Gate - Thoppumpady",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 18
                            }
                        },
                        {},
                        {},
                        {
                            "transitDetails": {
                                "stopDetails": {
                                    "arrivalStop": {
                                        "name": "Manorama Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.965581,
                                                "longitude": 76.294618
                                            }
                                        }
                                    },
                                    "arrivalTime": "2023-12-16T01:15:36Z",
                                    "departureStop": {
                                        "name": "East Fort Gate Junction",
                                        "location": {
                                            "latLng": {
                                                "latitude": 9.9448062,
                                                "longitude": 76.3489634
                                            }
                                        }
                                    },
                                    "departureTime": "2023-12-16T00:47:56Z"
                                },
                                "localizedValues": {
                                    "arrivalTime": {
                                        "time": {
                                            "text": "6:45 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    },
                                    "departureTime": {
                                        "time": {
                                            "text": "6:17 AM"
                                        },
                                        "timeZone": "Asia/Calcutta"
                                    }
                                },
                                "headsign": "Manalimukku",
                                "transitLine": {
                                    "agencies": [
                                        {
                                            "name": "KSRTC",
                                            "uri": "https://www.keralartc.com/main.html"
                                        }
                                    ],
                                    "name": "Infopark First Gate - Manalimukku",
                                    "vehicle": {
                                        "name": {
                                            "text": "Bus"
                                        },
                                        "type": "BUS",
                                        "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/bus2.png"
                                    }
                                },
                                "stopCount": 19
                            }
                        },
                        {},
                        {},
                        {}
                    ]
                }
            ],
            "distanceMeters": 15942,
            "duration": "3398s"
        }
    ]

    //Actual Code
    function addPlusSign(address) 
    {   
        const words = address.split(' ');
        const result = words.join('+');
        return result;
    }

const ksrtcBuses = routes.filter(route => {
    const transitDetails = route.legs[0].steps[0].transitDetails;
    return transitDetails && transitDetails.transitLine.agencies.some(agency => agency.name === 'KSRTC');
});

const busIds = ksrtcBuses.map(route => {
    const transitDetails = route.legs[0].steps[0].transitDetails;
    return transitDetails.headsign;
});

const fastestRoute = ksrtcBuses.reduce((fastest, current) => {
    const currentStops = current.legs[0].steps[0].transitDetails.stopCount;
    const fastestStops = fastest.legs[0].steps[0].transitDetails.stopCount;

    return currentStops < fastestStops ? current : fastest;
}, ksrtcBuses[0]); 

const fastestHeadsign = fastestRoute.legs[0].steps[0].transitDetails.headsign;
const fastestStopsCount = fastestRoute.legs[0].steps[0].transitDetails.stopCount;
const fastestDuration = fastestRoute.duration;
const fastestDistance = fastestRoute.distanceMeters;

console.log("Bus IDs:", busIds);
console.log("Fastest Route - Headsign:", fastestHeadsign);
console.log("Fastest Route - Stops:", fastestStopsCount);
console.log("Fastest Route - Duration:", fastestDuration);
console.log("Fastest Route - Distance:", fastestDistance);
console.log();


routes.forEach((route, index) => {
    if (route !== fastestRoute) {
        const altHeadsign = route.legs[0].steps[0].transitDetails.headsign;
        const altStopsCount = route.legs[0].steps[0].transitDetails.stopCount;
        const altDuration = route.duration;
        const altDistance = route.distanceMeters;

        console.log();
        console.log(`Alternate Route  - Headsign: ${altHeadsign}`);
        console.log(`Alternate Route  - Stops: ${altStopsCount}`);
        console.log(`Alternate Route  - Duration: ${altDuration}`);
        console.log(`Alternate Route  - Distance: ${altDistance}`);
    }
});

   


